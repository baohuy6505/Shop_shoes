<style>
  .sidebar { min-height: 100vh; background: linear-gradient(180deg, #2c3e50 0%,
  #34495e 100%); box-shadow: 2px 0 10px rgba(0,0,0,0.1); } .sidebar .nav-link {
  color: #ecf0f1; padding: 15px 20px; margin: 5px 0; border-radius: 8px;
  transition: all 0.3s; } .sidebar .nav-link:hover, .sidebar .nav-link.active {
  background-color: rgba(255,255,255,0.1); color: #fff; } .sidebar .nav-link i {
  margin-right: 10px; font-size: 1.2rem; } .top-navbar { background-color: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 15px 30px; } .stats-card {
  background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px
  rgba(0,0,0,0.08); margin-bottom: 20px; transition: transform 0.3s; }
  .stats-card:hover { transform: translateY(-5px); box-shadow: 0 4px 15px
  rgba(0,0,0,0.15); } .stats-card .icon { font-size: 2.5rem; margin-bottom:
  10px; } .stats-card.blue { border-left: 4px solid #3498db; } .stats-card.green
  { border-left: 4px solid #2ecc71; } .stats-card.orange { border-left: 4px
  solid #f39c12; } .stats-card.red { border-left: 4px solid #e74c3c; }
  .table-card { background: #fff; border-radius: 12px; padding: 25px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08); margin-bottom: 30px; } .table-card h5
  { color: #2c3e50; font-weight: 600; margin-bottom: 20px; padding-bottom: 10px;
  border-bottom: 2px solid #ecf0f1; } .table thead { background-color: #34495e;
  color: #fff; } .table thead th { border: none; padding: 12px; font-weight:
  500; } .table tbody tr { transition: background-color 0.2s; } .table tbody
  tr:hover { background-color: #f8f9fa; } .badge-stock-high { background-color:
  #d4edda; color: #155724; padding: 5px 12px; border-radius: 12px; font-weight:
  500; } .badge-stock-medium { background-color: #fff3cd; color: #856404;
  padding: 5px 12px; border-radius: 12px; font-weight: 500; } .badge-stock-low {
  background-color: #f8d7da; color: #721c24; padding: 5px 12px; border-radius:
  12px; font-weight: 500; } .product-img { width: 50px; height: 50px;
  object-fit: cover; border-radius: 8px; } .section-title { color: #2c3e50;
  font-weight: 700; margin-bottom: 25px; display: flex; align-items: center; }
  .section-title i { margin-right: 10px; color: #3498db; }
</style>
<div class="row">
  <!-- Main Content -->
  <div class="col-md-12 p-0">
    <!-- Top Navbar -->
    <div class="top-navbar d-flex justify-content-between align-items-center">
      <h3 class="mb-0"><i class="bi bi-clipboard-data"></i>
        Quản Lý Kho Hàng</h3>
      <div class="d-flex align-items-center">
        <span class="me-3"><i class="bi bi-calendar3"></i> 03/11/2025</span>
        <div class="dropdown">
          <button class="btn btn-light dropdown-toggle" type="button">
            <i class="bi bi-person-circle"></i>
            Admin
          </button>
        </div>
      </div>
    </div>

    <!-- Content -->
    <div class="p-4">
      <!-- Stats Cards -->
      <div class="row mb-4">
        <div class="col-md-3">
          <div class="admin-card">
            <div class="admin-gradient-overlay admin-gradient-blue"></div>
            <div class="admin-card-header">
              <h3 class="admin-card-title">Tổng Số Lượng Tồn Kho</h3>
              <div class="admin-card-icon admin-icon-product">
                <span class="admin-icon admin-total-products-icon"></span>
              </div>
            </div>
            <div
              class="admin-card-value"
            >{{viewmodel.totalProductVariant}}</div>
            {{!-- <div class="admin-card-change">
              <span class="admin-negative">↑ 1.8%</span>
              from last month
            </div> --}}
          </div>
        </div>
        <div class="col-md-3">
          <div class="admin-card">
            <div class="admin-gradient-overlay admin-gradient-danger"></div>
            <div class="admin-card-header">
              <h3 class="admin-card-title">Số Sản Phẩm Sắp Hết Hàng</h3>
              <div class="admin-card-icon admin-icon-danger">
                <span class="admin-icon admin-income-icon"></span>
              </div>
            </div>
            <div class="admin-card-value">{{viewmodel.lowStockVariants}}</div>
            {{!-- <div class="admin-card-change">
              <span class="admin-positive">↑ 2.5%</span>
              from last month
            </div> --}}
          </div>
        </div>
        <div class="col-md-3">
          <div class="admin-card">
            <div class="admin-gradient-overlay admin-gradient-primary"></div>
            <div class="admin-card-header">
              <h3 class="admin-card-title">Tổng Giá Trị Hàng Tồn Kho</h3>
              <div class="admin-card-icon admin-icon-primary">
                <span class="admin-icon admin-money-icon"></span>
              </div>
            </div>
            <div class="admin-card-value">{{formatCurrency viewmodel.totalStockValue}}</div>
            {{!-- <div class="admin-card-change">
              <span class="admin-positive">↑ 5.2%</span>
              from last month
            </div> --}}
          </div>
        </div>
        <div class="col-md-3">
          <div class="admin-card">
            <div class="admin-gradient-overlay admin-gradient-success"></div>
            <div class="admin-card-header">
              <h3 class="admin-card-title">Số lương được thêm vào giỏ</h3>
              <div class="admin-card-icon admin-icon-success">
                <span class="admin-icon admin-expense-icon"></span>
              </div>
            </div>
            <div class="admin-card-value">{{viewmodel.totalCart}}</div>
            {{!-- <div class="admin-card-change">
              <span class="admin-negative">↑ 1.8%</span>
              from last month
            </div> --}}
          </div>
        </div>
      </div>

      <!-- Categories Overview -->
      <div class="table-card">
        <h5><i class="bi bi-tags"></i> Thống Kê Danh Mục</h5>
        <table class="table table-hover">
          <thead>
            <tr>
              <th>ID</th>
              <th>Tên</th>
              <th>Mô Tả</th>
              <th>Số Sản Phẩm</th>
              <th>Trạng Thái</th>
            </tr>
          </thead>
          <tbody>
            {{#each viewmodel.listCategory}}
              <tr>
                <td>###</td>
                <td><strong>{{categoryName}}</strong></td>
                <td>{{description}}</td>
                <td><span class="badge bg-primary">{{productCount}}</span></td>
                <td><span class="badge bg-success">Hoạt động</span></td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>

      <!-- Products with Stock -->
      <div class="table-card">
        <h5><i class="bi bi-box-seam"></i> Chi Tiết Tồn Kho Sản Phẩm</h5>
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Hình Ảnh</th>
              <th>Tên Sản Phẩm</th>
              <th>Danh Mục</th>
              <th>Giá</th>
              <th>Số Biến Thể</th>
              <th>Tổng Tồn Kho</th>
              <th>Trạng Thái</th>
            </tr>
          </thead>
          <tbody>
            {{#each viewmodel.listProduct}}
              <tr>
                <td><img
                    src="{{imageUrl}}"
                    alt="Product"
                    class="product-img"
                  /></td>
                <td><strong>{{productName}}</strong></td>
                <td>{{categoryName}}</td>
                <td><strong>{{formatCurrency price}}</strong></td>
                <td><span class="badge bg-info">{{variantCount}}</span></td>
                <td><strong>{{totalStock}}</strong></td>
                <td>
                  {{#ifeq status "Còn Nhiều"}}
                    <span class="badge-stock-high">{{status}}</span>
                  {{else}}
                    {{#ifeq status "Còn Ít"}}
                      <span class="badge-stock-medium">{{status}}</span>
                    {{else}}
                      {{#ifeq status "Sắp Hết"}}
                        <span class="badge-stock-low">{{status}}</span>
                      {{else}}
                        <span class="badge bg-secondary">Không rõ</span>
                      {{/ifeq}}
                    {{/ifeq}}
                  {{/ifeq}}
                </td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>

      <!-- Product Variants Detail -->
      <div class="table-card">
        <h5><i class="bi bi-palette"></i> Chi Tiết Biến Thể - Cần Nhập Thêm</h5>
        <table class="table table-hover table-sm">
          <thead>
            <tr>
              <th>Mã BT</th>
              <th>Sản Phẩm</th>
              <th>Size</th>
              <th>Màu Sắc</th>
              <th>Tồn Kho</th>
              <th>Trạng Thái</th>
              <th>Ghi Chú</th>
            </tr>
          </thead>
         <tbody>
    {{#each viewmodel.listProductVariants}}
        {{#if (lt stockQuantity 20)}}
            
            <tr class="{{#if (lt stockQuantity 10)}}table-danger{{else}}table-warning{{/if}}">
                <td>{{variantCode}}</td>
                <td>{{productName}}</td>
                <td><span class="badge bg-secondary">{{size}}</span></td>
                <td>
                    <span
                        class="badge"
                        style="background-color: {{colorHex}}; {{#ifeq colorHex '#fff'}}color: #000; border: 1px solid #ccc;{{/ifeq}}"
                    >{{colorName}}</span>
                </td>
                
                <td>
                    <strong class="{{#if (lt stockQuantity 10)}}text-danger{{else}}text-warning{{/if}}">
                        {{stockQuantity}}
                    </strong>
                </td>
                
                <td>
                    {{#if (lt stockQuantity 10)}}
                        <span class="badge-stock-low">Nguy Cơ Hết</span>
                    {{else}}
                        <span class="badge-stock-medium">Cần Nhập</span>
                    {{/if}}
                </td>
                
                <td>
                    {{#if (lt stockQuantity 10)}}
                        <small class="text-danger">Cần nhập gấp!</small>
                    {{else}}
                        <small>Theo dõi thêm</small>
                    {{/if}}
                </td>
            </tr>
        {{/if}} 
    {{/each}}
    </tbody>
        </table>
      </div>

      <!-- Users Summary -->
      <div class="table-card">
        <h5><i class="bi bi-people"></i> Thống Kê Người Dùng</h5>
        <div class="row">
          <div class="col-md-6">
            <table class="table table-borderless">
              <tbody>
                <tr>
                  <td><i class="bi bi-people-fill text-primary"></i>
                    Tổng người dùng:</td>
                  <td><strong>1,247</strong></td>
                </tr>
                <tr>
                  <td><i class="bi bi-person-badge text-success"></i>
                    Admin:</td>
                  <td><strong>5</strong></td>
                </tr>
                <tr>
                  <td><i class="bi bi-person text-info"></i> Khách hàng:</td>
                  <td><strong>1,242</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="col-md-6">
            <table class="table table-borderless">
              <tbody>
                <tr>
                  <td><i class="bi bi-cart-fill text-warning"></i>
                    Giỏ hàng đang hoạt động:</td>
                  <td><strong>89</strong></td>
                </tr>
                <tr>
                  <td><i class="bi bi-clock-history text-secondary"></i>
                    Đăng ký mới hôm nay:</td>
                  <td><strong>12</strong></td>
                </tr>
                <tr>
                  <td><i class="bi bi-graph-up text-success"></i>
                    Người dùng hoạt động:</td>
                  <td><strong>234</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>